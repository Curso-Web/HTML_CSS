<!DOCTYPE html>

<html lang="es">
<head>
	<meta name="keywords" content="web, learning, html5, css3">
	<meta name="author" content="Alejandro" >
	<meta name="application-name" content="…">
	<meta name="description" content="Ejercicios de HTML5">
	<meta name="generator" content="Bluefish 2.2.4" >
	<meta charset="UTF-8">
	<title>Drag n Drop - JS</title>
    <link rel="shortcut icon" href="fav_icon.png">
	<link rel="stylesheet" href="default.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>

        function dragging(oEvent) {
            $(oEvent.target).addClass('dragging');
            $draggedItem = $(oEvent.target);
        }
        function draggingEnded(oEvent) {
            $(oEvent.target).removeClass('dragging');
        }

        function dropItem(oEvent) {
            var domNicho = $(oEvent.target);
            if (domNicho.hasClass('nicho') && domNicho.children().length == 0) {
                $draggedItem.detach();
                $draggedItem.appendTo(domNicho);
            }
        }

        var $draggedItem;
        $(document).ready(function () {
            // eventos cuando se arrastra (drag) un item
            $('.item').on('dragstart', dragging);
            $('.item').on('dragend', draggingEnded);
            // eventos cuando se suelta (drop) un item
            $('.nicho').on('dragenter', function (oEv) {oEv.preventDefault() });
            $('.nicho').on('dragover', function (oEv) {oEv.preventDefault() });
            $('.nicho').on('drop', dropItem);
        });
    </script>
</head>

<body>
    <header>
        <h1>Ejemplo de Drag n Drop</h1>
    </header>

    <article id="container">
        <div id="nicho1" class="nicho">
            <div id="item1" draggable="true" class="item">1</div>
        </div>
        <div id="nicho2" class="nicho">
            <div id="item2" draggable="true" class="item">2</div>
        </div>
        <div id="nicho3" class="nicho">
            <div id="item3" draggable="true" class="item">3</div>
        </div>
        <div id="nicho4" class="nicho"></div>
    </article>



    <p title="Párrafo 1">..</p>
</body>
</html>